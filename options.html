<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Configuración de Tareas</title>
    <style>
        body { font-family: sans-serif; width: 700px; padding: 10px; }
        h1, h2 { border-bottom: 2px solid #eee; padding-bottom: 5px; }
    .task-list, .time-list { display: flex; flex-direction: column; gap: 12px; margin-bottom: 20px; }
    /* Cada fila de tarea tendrá dos columnas: nombre (izquierda) y controles (derecha) */
    .task-row { display: grid; grid-template-columns: 1fr auto; gap: 12px; align-items: center; border: 1px solid #ccc; padding: 10px; border-radius: 5px; }
    /* Contenedor interno para los inputs de tarea (nombre + código) */
    .task-inputs { display:flex; gap:8px; align-items:center; }
    .task-inputs .task-nombre { flex:1; }
    .task-inputs .task-codigo { width:180px; }
    /* En la lista de tiempos agrupamos etiqueta y controles de tiempo (más compactos) */
    .time-row { display: grid; grid-template-columns: minmax(150px, 1fr) auto; gap: 12px; align-items: center; border: 1px solid #ccc; padding: 10px; border-radius: 5px; }
    .task-row input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; }
    .time-row .task-label { padding-left: 4px; font-weight: 600; }
    .time-row input { width: 72px; padding: 8px; border: 1px solid #ddd; border-radius: 4px; text-align:center; }
    .time-row .time-inputs { justify-self: end; }
        .remove-task-btn, .add-task-btn { padding: 8px 12px; background-color: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer; }
        .add-task-btn { background-color: #4CAF50; margin-top: 10px; }
        #save { padding: 12px 20px; font-size: 16px; background-color: #008CBA; color: white; border: none; border-radius: 5px; cursor: pointer; }
        #status { margin-left: 15px; font-weight: bold; color: green; }
    </style>
</head>
<body>
    <h1>Configuración de Tareas</h1>

    <h2>1. Define tus Tareas</h2>
    <div id="task-definitions" class="task-list">
        </div>
    <button id="add-task-btn" class="add-task-btn">➕ Añadir Tarea</button>

    <h2 style="margin-top: 30px;">2. Asigna el Tiempo por Jornada</h2>
    <div style="display:flex; align-items:center; gap:10px; margin-bottom:10px;">
        <label for="toggle-reducida">Activar Jornada Reducida</label>
        <input type="checkbox" id="toggle-reducida">
        <small style="color:#555;">Si está activado, 'Jornada Normal' será L-J (9h) y 'Jornada Reducida' será Viernes y Verano (7h)</small>
    </div>

    <h3 id="label-normal">Jornada Normal</h3>
    <div id="time-assignments-normal" class="time-list">
        </div>

    <h3 id="label-reducida">Jornada Reducida</h3>
    <div id="time-assignments-reducida" class="time-list">
        </div>

    <hr style="margin-top: 30px;">
    <button id="save">Guardar Cambios</button>
    <span id="status"></span>

    <template id="task-definition-template">
        <div class="task-row">
            <div class="task-inputs">
                <input type="text" class="task-nombre" placeholder="Nombre (ej: Construcción)">
                <input type="text" class="task-codigo" placeholder="Código Proyecto (ej: WSONE...)">
            </div>
            <button class="remove-task-btn">✖</button>
        </div>
    </template>

    <template id="time-assignment-template">
        <div class="time-row">
            <span class="task-label"></span>
            <div class="time-inputs" role="group" aria-label="Horas y minutos">
                <input type="number" class="task-horas" placeholder="HH" min="0" max="23" aria-label="Horas" />
                <span class="time-sep">:</span>
                <input type="number" class="task-minutos" placeholder="MM" min="0" max="59" aria-label="Minutos" />
            </div>
        </div>
    </template>

    <style>
        /* Estilos para los inputs de tiempo */
        .time-inputs { display:flex; align-items:center; gap:6px; }
        .time-inputs input { width:64px; padding:8px; border-radius:4px; border:1px solid #ddd; text-align:center; }
        .time-sep { font-weight:bold; font-size:16px; margin:0 4px; }
        @media (max-width: 480px) {
            .time-inputs input { width:48px; padding:6px; }
        }
    </style>

    <script src="options.js"></script>
</body>
</html>